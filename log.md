# 163spider
**2018-03-30**

暂时对数据的爬取想告一段落
目前:

- comment 1000W
- playlist 700W
- user (初步)200W

下面的任务终点放在对数据的分析处理上,预计要做一个可视化前台

需要找老师帮助处理文本数据了

下一步的任务是把代码进行优化,使用requests高级用法对爬虫进行升级,对代码在进行抽象和封装.

**2018-04-05**

忙活了一下午,到现在是把`SongComment`和`UserDetail`两个重构完成,精简了一些可以"重载"的函数

完成了文件分割和一键启动部署

暂时是指定分割成四部分,以后会完成可以在`config.json`中指定配置信息进行生成,部署之后只要更改`config.json`信息即可开始运行

晚上再把`UserPlaylist`部分完成,然后看看`PlaylistDetail`需不需要单独抓取

另外完善了`UserDetail`的一些用户信息抓取,修改了用户生日的时间戳存储错误问题,增添了用户性别字段

修复了数据库的几个字段

**2018-04-06**

12:12

修复了`UserDetail`中的异常检测/完善了`SongComment`在ip被封时的自动退出

添加了log中的error记录

17:25

下午完成`UserPlaylist`的最后重构,统一了接口和workspace的文件

next:

完善`userdetail`中获取的信息情况=>补全认证用户/vip用户等状态信息

完善`songcomment`中`hotcomment`的获取=>集成在`songcomment`中,默认开启,在全部评论的同时抓取`hotcomment`

对之前的脚本进行重构,进行初步的数据统计,并设计完成统计结果的存储(数据库/文件)

**2018-04-07**

21:46

代码运行稳定,暂时未出现异常情况,日志分析良好

分析数据初步完成,不过初版上线可能要搁置几天,暂时先做数据抓取

next:
完善`SongComment`的断点连续功能

继续增加相关功能函数

1. `PlaylistDetail`用于获取歌单信息和歌曲详细信息
2. `PlaylistComment`用于获取歌单的评论信息,与`SongComment`基本类似,会考虑进行分表添加

目前重点:

1. 用户信息采集,对之前进行修复和完善
2. 歌曲评论信息采集